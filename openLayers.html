<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>DSweb</title>
        <!-- Basic CSS definitions -->
        <link rel="stylesheet" type="text/css" href="style.css">
        <script type="text/javascript" src='map.js'></script>
        <script type="text/javascript" src='scripts.js'></script>
        <script type="text/javascript" src='xmlGen.js'></script>
        <link rel="stylesheet" type="text/css" href="query.css">
        <script src='query.js'></script>
        <!-- Import OpenLayers, reduced, wms read only version
        <script src="http://localhost:8080/geoserver/openlayers/OpenLayers.js" type="text/javascript"></script>  -->
        <!-- Import OpenLayers, local -->
        <!-- <script src="OpenLayers-2.13.1/OpenLayers.js" type="text/javascript"></script>-->
        <!-- Import OpenLayers v2-->
        <script src="http://www.openlayers.org/api/OpenLayers.js"></script>
        <!-- Import ol v3 -->
        <!--<script src="http://openlayers.org/en/v3.3.0/build/ol.js" type="text/javascript"></script>-->
    </head>
    <body onload="init()"><!-- initColor() -->
        <div id='informationWindow' style='visibility: hidden;'>
            <div style='width:100%;height:30px;background-color:#3399FF;color:white;font-size: 16px;text-align: center;padding-bottom: 0px; padding-top: 10px;'>Understanding the legend</div>
            <div style='overflow: scroll;overflow-x: hidden;height: 93%;'>
            <h3>IPCC Likelihood Probability Scale</h3>
            <p>The dynamic coastal response likelihood probabilites are based on the Intergovernmental Panel on Climage Change (IPCC) scale for the likelihood of a future outcome occurring. Although the IPCC scale contains 7 categories, these outputs only include 4 - Very likely, About as likely as not, Likely, and Unlikely (highlighted in red). Only the beach land-cover type has the potential to fall into the "very likely" scenario.  </p>
            <table  class='info' style='width:400px;font-size:14px;margin-left:auto;margin-right: auto;'>
                <tr class='info' style='background-color:gray;color:white;'>
                    <th class='info' colspan="2">IPCC Likelihood Scale*</th>
                </tr>
                <tr class='info'>
                    <td class='info'><b>Term</b></td><td class='info'><b>Likelihood of the Outcome</b></td>
                </tr>
                <tr class='info'>
                    <td class='info'>Virtually Certain</td><td class='info'>99-100% probability</td>
                </tr>
                <tr class='info'>
                    <td class='info' style='color:red'>Very likely</td><td class='info' style='color:red' >90-100% probability</td>
                </tr>
                <tr class='info'>
                    <td class='info' style='color:red'>Likely</td><td class='info' style='color:red'>66-100% probability</td>
                </tr>
                <tr class='info'>
                    <td class='info' style='color:red'>About as likely as not</td><td class='info' style='color:red'>33-66% probability</td>
                </tr>
                <tr class='info'>
                    <td class='info' style='color:red'>Unlikely</td><td class='info' style='color:red'>0-33% probability</td>
                </tr>
                <tr class='info'>
                    <td class='info'>Very unlikely</td><td class='info'>0-10% probability</td>
                </tr>
                <tr class='info'>
                    <td class='info'>Exceptionally unlikely</td><td class='info'>0-1% probability</td>
                </tr>
            </table>
            <p style='font-size:10px;text-align:justify;color:gray;width:80%;margin-left: auto;margin-right: auto;'>  * Mastrandrea, M.D., C.B. Field, T.F. Stocker, O. Edenhofer, K.L. Ebi, D.J. Frame, H. Held, E. Kriegler, K.J. Mach,P.R. Matschoss, G.-K. Plattner, G.W. Yohe, and F.W. Zwiers, 2010: Guidance Note for Lead Authors of the IPCC Fifth. Assessment Report on Consistent Treatment of Uncertainties. Intergovernmental Panel on Climate Change (IPCC). Available at http://www.ipcc.ch</p>
            <h3>Land Classification</h3>
            <p>The six generalized land-cover categories are a reclassification of land-cover information obtained from the Ecoligical Systems Map (ESM) Plus (ESMplus) provided by the University of Massachusett's Landscape Conservation and Design (LCAD) model. The ESMplus uses The Nature Conservancy (TNC) Northeast Terrestrial Wildlife Habitat Classification of 2010 as its base and includes several changes or additions from other land-cover maps sources, including but not limited to: the 2013 National Wetland inventory (NWI), National Hydrography Dataset (NHD),Open Stree Map vector roads, U.S. Core of Engineers - National Inventory of Dams, and TNC's Northeast Aquatic Connectivity Project.</p>
            <p>Of the 197 land-cover classes in ESMplus, land-cover categories with distinctive responses to sea-level-rise effects - morphologic, ecologic, or caused by human influence - were established to assess the likelihood of land loss. Each category therefore anticipates a similar response and rate of response to sea-level-rise effects among the land-cover classes within them.</p>
            <h3>Decade</h3>
            <p>The Dyanmic Coastal Response model used sea-level projections that included average decadel sea-level rise for the 2020s, 2030s, 2050s and 2080s. The model takes into account the uncertainty included in future projections, which is reflected in the likelihood of each outcome. In other words, the certainty that a particular coastal response will occur may increase or decrease overtime, causing the likelihood of an outcome to shift . </p>
            </div>
        </div>
        <div id="map">
            <div id='Wrapper'> <!-- Right Wrapper -->
                <div id='header'>
                    <div id='usgs'></div> 
                </div>
                <h2 style='margin-left:15px;'>Data Visualization</h2>
                <h3 style='text-align: left;margin:15px;'>Coastal Response Likelihood<br></h3>
                <p style='text-align: left; margin:15px;'>The coastal response to sea-level rise is assessed for the northeastern U.S. using sea-level projections, vertical land movement rates and elevation and land-cover data. The landscape response to sea-level rise is presented on maps showing the likelihood of a dynamic landscape response. A higher dynamic response likelihood suggests the ability for a land cover type to adapt to rising sea-level, whereas a lower dynamic response likelihood (less than 50%) indicates the potential for inundation.  </p>
                <div class='sectionHeader'>
                    <div class='sectionLabels' style='margin-left:41%;margin-top: 0px;padding-top:5px;' onclick='changeSection(this)'>Overview</div>
                </div>
                <div class='wrapper' id='overviewWrapper' style='display: inline'><!-- Overview Wrapper-->
                    <h3 style='margin-left:15px;'>What is Coastal Response?</h3>
                    <p style='margin-left:15px;'>Coastal response is the likelihood of a given land-cover type to respond either dynamically or by inundation with respect to sea-level rise. <b>Dynamic</b> areas (high probability of a dynamic response) are likely to adapt to sea-level rise by preserving their current land-cover state or transitioning to another non-submerged state; <b>Inundation</b> (low probability of a dynamic response) occurs in areas unlikely to adapt in these ways and are therefore likely to inundate.</p>
                    <p style='margin-left:15px;'>Use the legend below to select a dynamic coastal response likelihood for each of the six land-cover classifications.</p><p style='margin-left:15px;'>Use the decade slider to show dynamic coastal response for the 2020s, 2030s, 2050s or 2080s.</p>
                </div>
                <div class='sectionHeader'>
                    <div id='infoButton' onclick='getInfo()'></div>
                    <div class='sectionLabels' style='margin-left:43%;' onclick='changeSection(this);modelPredictions(this)'>Legend</div>
                </div>
                <div class='wrapper' id='legendWrapper' style='display: none;text-align: center;'><!-- Legend Wrapper-->
                    <table>
                        <tr><th class='lk' colspan='6' style='text-align:right;padding-top: 15px;font-size: 16px;color:gray;'>Dynamic Response Likelihood*</th></tr>
                        <tr>
                            <th class='lc' rowspan="7"><div><span style='font-size: 18px;color:gray'>Land Class</span></div></th>
                            <th></th>
                            <th class='rotate'><div><span onclick='gPick(this)'>Unlikely (0-33%)</span></div></th>
                            <th class='rotate'><div><span onclick='gPick(this)'>About as likely as not (33-66%)</span></div></th>
                            <th class='rotate'><div><span onclick='gPick(this)'>Likely (66-90%)</span></div></th>
                            <th class='rotate'><div><span onclick='gPick(this)'>Very likely (90-100%)</span></div></th>
                        </tr>
                        <tr>
                            <th class='thLC' onclick='gPick(this)'>Subaqueous</th>
                            <td class='q sub unl i9' id='Subaqueous | Unlikely' onclick='colorPick2(this);setStyle()'></td>
                            <td class='q sub abo i8' id='Subaqueous | About as likely as not' onclick='colorPick2(this);setStyle()'></td>
                            <td class='q sub lik i1' id='Subaqueous | Likely' onclick='colorPick2(this);setStyle()'></td>
                            <td class='noVL'></td>
                        </tr>
                        <tr><th class='thLC' onclick='gPick(this)'>Marsh</th>
                            <td class='q mar unl i19' id='Marsh | Unlikely' onclick='colorPick2(this);setStyle()'></td>
                            <td class='q mar abo i7' id='Marsh | About as likely as not' onclick='colorPick2(this);setStyle()' ></td>
                            <td class='q mar lik i11' id='Marsh | Likely' onclick='colorPick2(this);setStyle()'></td>
                            <td class='noVL'></td>
                        </tr>
                        <tr><th class='thLC' onclick='gPick(this)'>Beach</th>
                            <td class='q bea unl i13' id='Beach | Unlikely' onclick='colorPick2(this);setStyle()'></td>
                            <td class='q bea abo i12'  id='Beach  | About as likely as not' onclick='colorPick2(this);setStyle()'></td>
                            <td class='q bea lik i5'  id='Beach | Likely' onclick='colorPick2(this);setStyle()' ></td>
                            <td class='q bea ver i10' id='Beach | Very likely' onclick='colorPick2(this);setStyle()'></td>
                            <td class='noVL' rowspan='2' style='text-align: right;border:1px solid white !important;background-color: white !important;cursor:default;'>
                                <button id='clear' style='margin-left: 10px;' onclick='clearAll()'>CLEAR</button>
                            </td>
                        </tr>
                        <tr><th class='thLC' onclick='gPick(this)'>Rocky</th>
                            <td class='q roc unl i14' id='Cliff | Unlikely' onclick='colorPick2(this);setStyle()' ></td>
                            <td class='q roc abo i15' id='Cliff | About as likely as not' onclick='colorPick2(this);setStyle()'></td>
                            <td class='q roc lik i16' id='Cliff | Likely' onclick='colorPick2(this);setStyle()' ></td>
                            <td class='noVL'></td>
                        </tr>
                        <tr><th class='thLC' onclick='gPick(this)'>Forest</th>
                            <td class='q for unl i18' id='Forest | Unlikely' onclick='colorPick2(this);setStyle()'></td>
                            <td class='q for abo i6' id='Forest | About as likely as not' onclick='colorPick2(this);setStyle()' ></td>
                            <td class='q for lik i4' id='Forest | Likely' onclick='colorPick2(this);setStyle()'></td>
                            <td class='noVL'></td>
                        </tr>
                        <tr><th class='thLC'onclick='gPick(this)'>Developed</th>
                            <td class='q dev unl i17' id='Developed | Unlikely' onclick='colorPick2(this);setStyle()'></td>
                            <td class='q dev abo i3' id='Developed | About as likely as not' onclick='colorPick2(this);setStyle()' ></td>
                            <td class='q dev lik i2' id='Developed | Likely' onclick='colorPick2(this);setStyle()' ></td>
                            <td class='noVL'></td>
                        </tr>
                    </table>
                    <br>
                    <div>
                        <div id='gradient'></div>
                        <div id='gradText'>
                            <p style='float:left;padding: 0px;margin: 0px;'>Inundate</p>
                            <p style='float:right;padding: 0px;margin: 0px;'>Dynamic</p>
                        </div>
                    </div>
                </div>
                <div class='sectionHeader'>
                    <div class='sectionLabels' style='margin-left:32%;' onclick='changeSection(this);modelPredictions(this)'>Model Predictions</div>
                </div>
                <div class='wrapper' id='mpWrapper' style='width:100%;display:none;overflow-y: visible;'> <!-- Model Predictions wrapper-->
                    <table style='font-size: 12px;height: 200px;width:100%;'>
                        <tr>
                            <td>
                                <form>
                                    <input type="radio" name="ae" value="cr" onclick='modelPredictions(this)' checked>Coastal Response<br>
                                    <input type="radio" name="ae" value="ae" onclick='modelPredictions(this)'>Adjusted Elevation<br>
                                    <input type="radio" name="ae" value="pae" onclick='modelPredictions(this)'>Probability of Adjusted Elevation<br>
                                </form>
                            </td>
                            <td>
                                <img id='legendImage' src="http://localhost:8080/geoserver/wms?REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&LAYER=cite:cr20_prj">
                            </td>
                        </tr>
                    </table>
                </div>
                <div class='sectionHeader' style='margin-bottom:10px;'>
                    <div class='sectionLabels' style='margin-left:30%;' onclick='changeSection(this)'>Additional Information</div>
                </div>
                <div class='wrapper' id='addWrapper' style='width:100%;display:none;overflow-y: visible;'> <!-- Additional info wrapper-->
                    <p style='margin-left:10px;margin-right: 5px;text-align:justify;'>
                        <a href='http://woodshole.er.usgs.gov/project-pages/coastal_response/index.html' target="_blank">Coastal Landscape Response to Sea-Level Rise Assessment for the Northeastern United States: U.S. Geological Survey Web page</a><br><br>
                        <a href='http://wh.er.usgs.gov/slr/index.html' target="_blank">Sea-level rise hazards and decision support project: U.S. Geological Survey Web page</a><br><br>
                        <a href='http://pubs.usgs.gov/of/2014/1252/pdf/ofr2014-1252.pdf' target="_blank">Evaluating Coastal Landscape Response to Sea-Level Rise in the Northeastern United States-Approach and Methods: Open-File Report 2014-1252 (pdf)</a><br><br>
                        <a href='http://www.ipcc.ch/pdf/supporting-material/uncertainty-guidance-note.pdf' target="_blank">IPCC Uncertainties (pdf)</a>
                    </p>
                </div>
            </div>
            <div id='sliderDiv'> <!-- Slider Wrapper -->
                <div style='font-size:16px;width:100%;text-align: center;'><b>Decade</b></div>
                <div style='margin-top:10px;width:100%;text-align: center;'>
                    <input style='margin-left: 70px'id='slider' type="range" min="1" max="4" value="1" step="1" list='decades' oninput='slider(this)'/>
                    <datalist id='decades'>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                    </datalist>
                    <span style='border-radius: 5px;width:20px;height:20px;border:1px solid transparent;float:right;' onclick='loopStop()' onmouseover="this.style.border='1px solid white'" onmouseout="this.style.border='1px solid transparent'">
                        <div style='margin-left:5px;margin-top:5px;width:10px;height:10px;background-color:lightgray;'></div>
                    </span>
                    <span style='border-radius: 5px;width:20px;height:20px;border:1px solid transparent;float:right;margin-left:20px; ' onclick='loopStart()' onmouseover="this.style.border='1px solid white'" onmouseout="this.style.border='1px solid transparent'">
                        <div style='margin-left:7px;margin-top:2px;width:0px;height:0px;border-top:8px solid transparent;border-bottom:8px solid transparent;border-left:8px solid lightgray;'></div>
                    </span>  
                </div>
                <div  style='width:100%; text-align: center;margin-top:15px;'>
                    <span class='years' id='sp1' style='background-color:#3399FF;'>2020s</span>
                    <span class='years' id='sp2' >2030s</span>
                    <span class='years' id='sp3' >2050s</span>
                    <span class='years' id='sp4' >2080s</span>
                </div> 
            </div>
            <div id='baseLayerWrapper'><span style='float: left;margin-top: 4px;'>Base layer</span><input id='baseSlider' type="range" min="0.0" max="1.0" step="0.05" value="1.0" onchange='baseSlider(this)'/></div>
        </div>
    </body>
</html>